Version 4
SHEET 1 5104 3360
WIRE -960 -384 -960 -448
WIRE -960 -256 -960 -304
WIRE 240 -80 240 -96
WIRE 304 -80 240 -80
WIRE 240 -64 240 -80
WIRE 304 -16 304 -80
WIRE 304 -16 240 -16
WIRE 1216 0 1216 -64
WIRE 192 16 112 16
WIRE 240 48 240 32
WIRE 400 48 240 48
WIRE 112 64 112 16
WIRE 192 64 112 64
WIRE 400 64 400 48
WIRE 192 96 192 64
WIRE 240 96 240 48
WIRE 240 96 192 96
WIRE 192 112 192 96
WIRE 1216 128 1216 80
WIRE 1216 128 1168 128
WIRE 1168 144 1168 128
WIRE 320 160 192 160
WIRE 320 176 320 160
WIRE 400 176 400 144
WIRE -672 192 -800 192
WIRE -480 192 -592 192
WIRE -384 192 -480 192
WIRE -256 192 -304 192
WIRE 144 192 64 192
WIRE 1296 192 1168 192
WIRE 1296 208 1296 192
WIRE -1248 224 -1248 176
WIRE 192 224 192 208
WIRE 1120 224 1056 224
WIRE 1168 256 1168 240
WIRE -800 288 -800 192
WIRE -1248 336 -1248 304
WIRE -800 384 -800 368
WIRE 1024 528 1024 496
WIRE 1024 528 976 528
WIRE 1024 560 1024 528
WIRE 3344 560 3248 560
WIRE 3872 560 3776 560
WIRE 1792 592 1792 544
WIRE 3728 592 3392 592
WIRE 1008 608 912 608
WIRE 1392 608 1104 608
WIRE 1888 640 1792 640
WIRE 2336 640 2048 640
WIRE 2384 640 2336 640
WIRE 2528 640 2464 640
WIRE 1392 672 1392 608
WIRE 1520 672 1392 672
WIRE 1744 672 1520 672
WIRE 912 688 912 608
WIRE 912 688 848 688
WIRE 1056 704 1056 608
WIRE 3776 704 3776 608
WIRE 3776 704 3696 704
WIRE 3344 720 3344 608
WIRE 3776 720 3776 704
WIRE 2112 736 2112 704
WIRE 2528 736 2528 720
WIRE 464 752 464 736
WIRE 528 752 464 752
WIRE 2048 752 2048 640
WIRE 2080 752 2048 752
WIRE 464 768 464 752
WIRE 912 768 912 688
WIRE 1168 768 912 768
WIRE 1216 768 1216 704
WIRE 1392 768 1392 672
WIRE 1392 768 1264 768
WIRE 2224 768 2144 768
WIRE 2336 768 2336 640
WIRE 2336 768 2288 768
WIRE 3168 768 3168 736
WIRE 3472 768 3344 768
WIRE 3904 768 3776 768
WIRE 1792 784 1792 688
WIRE 2080 784 1792 784
WIRE 2336 784 2336 768
WIRE 2544 784 2336 784
WIRE 2672 784 2544 784
WIRE 2832 784 2672 784
WIRE 3136 784 3056 784
WIRE 1792 800 1792 784
WIRE 3296 800 3200 800
WIRE 3472 800 3472 768
WIRE 3696 800 3696 704
WIRE 3728 800 3696 800
WIRE 3904 800 3904 768
WIRE 528 816 528 752
WIRE 528 816 464 816
WIRE 2544 816 2544 784
WIRE 2832 816 2832 784
WIRE 3136 816 2832 816
WIRE 2336 832 2336 784
WIRE 2640 832 2592 832
WIRE 2688 832 2640 832
WIRE 3344 832 3344 816
WIRE 3488 832 3344 832
WIRE 416 848 336 848
WIRE 1920 848 1792 848
WIRE 2112 848 2112 800
WIRE 2688 848 2688 832
WIRE 3344 848 3344 832
WIRE 1920 864 1920 848
WIRE 2544 864 2448 864
WIRE 3168 864 3168 832
WIRE 464 880 464 864
WIRE 624 880 464 880
WIRE 1744 880 1632 880
WIRE 336 896 336 848
WIRE 416 896 336 896
WIRE 1632 912 1632 880
WIRE 416 928 416 896
WIRE 464 928 464 880
WIRE 464 928 416 928
WIRE 1792 928 1792 896
WIRE 2448 928 2448 864
WIRE 2544 928 2544 912
WIRE 2544 928 2448 928
WIRE 416 944 416 928
WIRE 976 944 976 528
WIRE 976 944 912 944
WIRE 2336 944 2336 896
WIRE 2688 944 2688 928
WIRE 1072 960 1072 928
WIRE 2544 960 2544 928
WIRE 3344 960 3344 912
WIRE 3488 960 3488 832
WIRE 544 992 416 992
WIRE 3040 992 3040 976
WIRE 544 1008 544 992
WIRE 1168 1008 1168 960
WIRE 1168 1008 1072 1008
WIRE 3616 1008 3488 1008
WIRE 368 1024 288 1024
WIRE 1632 1024 1632 992
WIRE 1024 1040 976 1040
WIRE 3440 1040 3376 1040
WIRE 416 1056 416 1040
WIRE 1872 1056 1824 1056
WIRE 1072 1088 1072 1056
WIRE 1248 1088 1248 816
WIRE 1248 1088 1072 1088
WIRE 1824 1088 1824 1056
WIRE 3488 1088 3488 1056
WIRE 3616 1088 3616 1008
WIRE 912 1104 912 944
WIRE 976 1104 976 1040
WIRE 976 1104 912 1104
WIRE 1072 1104 1072 1088
WIRE 3040 1104 3040 1072
WIRE 1872 1120 1872 1056
WIRE 1200 1152 1072 1152
WIRE 976 1184 976 1104
WIRE 1024 1184 976 1184
WIRE 1200 1200 1200 1152
WIRE 1200 1200 1072 1200
WIRE 1072 1216 1072 1200
WIRE -976 1232 -1056 1232
WIRE -816 1232 -816 1216
WIRE -816 1232 -896 1232
WIRE -1056 1280 -1056 1232
WIRE 1872 1280 1872 1200
WIRE 432 1328 352 1328
WIRE 640 1328 512 1328
WIRE 352 1376 352 1328
WIRE 1872 1520 1872 1280
WIRE 1872 1520 1792 1520
WIRE 1584 1568 1488 1568
WIRE 2144 1584 2112 1584
WIRE 1792 1600 1792 1520
WIRE 1792 1600 1632 1600
WIRE 2336 1600 2336 1520
WIRE 2336 1600 2288 1600
WIRE 2144 1616 2032 1616
WIRE 2032 1648 2032 1616
WIRE 48 1664 48 1648
WIRE 160 1664 48 1664
WIRE 1584 1664 1584 1616
WIRE 1840 1664 1584 1664
WIRE 48 1680 48 1664
WIRE 1584 1696 1584 1664
WIRE 1840 1696 1840 1664
WIRE 352 1712 288 1712
WIRE 496 1712 432 1712
WIRE 3360 1712 2512 1712
WIRE 160 1728 160 1664
WIRE 160 1728 48 1728
WIRE 288 1744 288 1712
WIRE 624 1744 624 1728
WIRE 1680 1744 1584 1744
WIRE 1840 1744 1728 1744
WIRE -352 1760 -448 1760
WIRE 0 1760 -272 1760
WIRE 496 1760 496 1712
WIRE 592 1760 496 1760
WIRE 736 1776 656 1776
WIRE 816 1776 736 1776
WIRE 1120 1776 1056 1776
WIRE 1392 1776 1280 1776
WIRE 1504 1776 1392 1776
WIRE 1536 1776 1504 1776
WIRE 1952 1776 1888 1776
WIRE 592 1792 560 1792
WIRE 1728 1792 1728 1744
WIRE -1040 1808 -1328 1808
WIRE 48 1808 48 1776
WIRE 208 1808 48 1808
WIRE 560 1808 560 1792
WIRE 560 1808 208 1808
WIRE 896 1808 896 1776
WIRE 1120 1808 896 1808
WIRE 1584 1824 1584 1792
WIRE 1840 1824 1840 1792
WIRE 1840 1824 1584 1824
WIRE -1328 1840 -1328 1808
WIRE 624 1840 624 1808
WIRE 2304 1856 2144 1856
WIRE 2336 1856 2304 1856
WIRE 2512 1856 2512 1712
WIRE 2512 1856 2336 1856
WIRE 2624 1856 2512 1856
WIRE -1696 1872 -1696 1840
WIRE -1040 1904 -1040 1888
WIRE -48 1904 -1040 1904
WIRE 48 1904 48 1808
WIRE 2304 1904 2304 1856
WIRE 2624 1904 2576 1904
WIRE -1600 1920 -1696 1920
WIRE -1040 1936 -1040 1904
WIRE -1040 1936 -1136 1936
WIRE 2768 1936 2672 1936
WIRE -1744 1952 -1808 1952
WIRE -1040 1952 -1040 1936
WIRE 192 1952 48 1952
WIRE 1584 1952 1584 1824
WIRE 1856 1952 1584 1952
WIRE 2144 1952 2144 1856
WIRE 2144 1952 1936 1952
WIRE -1808 1968 -1808 1952
WIRE -1328 1968 -1328 1920
WIRE 2576 1968 2576 1904
WIRE 2624 1968 2624 1952
WIRE 2624 1968 2576 1968
WIRE -48 1984 -48 1904
WIRE 0 1984 -48 1984
WIRE 192 1984 192 1952
WIRE -896 2000 -1040 2000
WIRE 2304 2000 2304 1968
WIRE 2624 2000 2624 1968
WIRE -1696 2032 -1696 1968
WIRE -1696 2032 -1792 2032
WIRE -1136 2032 -1136 1936
WIRE -1088 2032 -1136 2032
WIRE -896 2032 -896 2000
WIRE -1696 2048 -1696 2032
WIRE 48 2048 48 2000
WIRE -1040 2080 -1040 2048
WIRE 1792 2080 1792 2064
WIRE 1856 2080 1792 2080
WIRE -1552 2096 -1696 2096
WIRE 1792 2096 1792 2080
WIRE -1792 2128 -1792 2032
WIRE -1744 2128 -1792 2128
WIRE -1552 2128 -1552 2096
WIRE 1856 2144 1856 2080
WIRE 1856 2144 1792 2144
WIRE -1696 2176 -1696 2144
WIRE 1744 2176 1664 2176
WIRE 4448 2176 3904 2176
WIRE 4464 2176 4448 2176
WIRE 4624 2176 4464 2176
WIRE 4672 2176 4672 2080
WIRE 4816 2176 4720 2176
WIRE 4848 2176 4816 2176
WIRE 1792 2208 1792 2192
WIRE 1952 2208 1952 1776
WIRE 1952 2208 1792 2208
WIRE 3360 2208 3360 1712
WIRE 3680 2208 3360 2208
WIRE 3728 2208 3728 2144
WIRE 3904 2208 3904 2176
WIRE 3904 2208 3776 2208
WIRE 1664 2224 1664 2176
WIRE 1744 2224 1664 2224
WIRE 4848 2240 4848 2176
WIRE 1744 2256 1744 2224
WIRE 1792 2256 1792 2208
WIRE 1792 2256 1744 2256
WIRE 4704 2256 4704 2224
WIRE 1744 2272 1744 2256
WIRE 4144 2272 4032 2272
WIRE 4032 2288 4032 2272
WIRE 4144 2304 4064 2304
WIRE 1872 2320 1744 2320
WIRE 2992 2320 2880 2320
WIRE 3424 2320 2992 2320
WIRE 4064 2320 4064 2304
WIRE 576 2336 320 2336
WIRE 1872 2336 1872 2320
WIRE 4144 2336 4112 2336
WIRE 4464 2336 4464 2176
WIRE 1504 2352 1504 1776
WIRE 1696 2352 1504 2352
WIRE 4848 2368 4848 2320
WIRE 1744 2384 1744 2368
WIRE 2880 2400 2880 2320
WIRE 3584 2400 3584 2368
WIRE 320 2416 320 2336
WIRE 576 2432 576 2336
WIRE 4464 2432 4464 2400
WIRE 3680 2448 3680 2400
WIRE 3680 2448 3584 2448
WIRE 3536 2480 3488 2480
WIRE 2880 2496 2880 2480
WIRE 320 2528 320 2496
WIRE 576 2528 576 2496
WIRE 3584 2528 3584 2496
WIRE 3760 2528 3760 2256
WIRE 3760 2528 3584 2528
WIRE 3424 2544 3424 2320
WIRE 3488 2544 3488 2480
WIRE 3488 2544 3424 2544
WIRE 3584 2544 3584 2528
WIRE 3712 2592 3584 2592
WIRE 3488 2624 3488 2544
WIRE 3536 2624 3488 2624
WIRE 3712 2640 3712 2592
WIRE 3712 2640 3584 2640
WIRE 3584 2656 3584 2640
WIRE 3760 2736 3760 2528
FLAG 192 224 0
FLAG -800 384 0
FLAG 320 176 0
FLAG 1168 256 0
FLAG 1296 208 0
FLAG -960 -256 0
FLAG -256 192 signal_in
FLAG 64 192 signal_in
FLAG 1056 224 signal_in
FLAG -960 -448 Vdd
FLAG 1216 -64 Vdd
FLAG 240 -96 Vdd
FLAG 400 176 0
FLAG 416 1056 0
FLAG 544 1008 0
FLAG 288 1024 signal_in
FLAG 464 736 Vdd
FLAG 624 880 step1_out
FLAG 848 688 step1_out
FLAG 1056 704 0
FLAG 1024 496 Vdd
FLAG 1072 928 Vdd
FLAG 1072 1216 0
FLAG 1216 704 Vdd
FLAG 1168 960 Vdd
FLAG 1792 544 Vdd
FLAG 1888 640 Vdd
FLAG 1792 928 0
FLAG 1920 864 0
FLAG 1632 1024 0
FLAG 2112 848 0
FLAG 2112 704 Vdd
FLAG 2336 944 0
FLAG 2544 960 0
FLAG 2688 944 0
FLAG 2528 736 0
FLAG 1520 672 step2_out
FLAG 2672 784 pulse_out
FLAG 3040 1104 0
FLAG 3168 864 0
FLAG 3168 736 vdd
FLAG 3040 976 v_bias
FLAG 3056 784 v_bias
FLAG 3872 560 Vdd
FLAG 3248 560 Vdd
FLAG 3344 512 Vdd
FLAG 3776 816 0
FLAG 3344 960 0
FLAG 3472 800 0
FLAG 3776 512 Vdd
FLAG 3904 800 0
FLAG 3488 1088 0
FLAG 3616 1088 0
FLAG 2640 832 c_reset
FLAG 3376 1040 c_reset
FLAG -480 192 signal_lifted
FLAG 352 1376 0
FLAG 640 1328 pulse_switch
FLAG 48 2048 0
FLAG 48 1648 Vdd
FLAG -1696 1840 Vdd
FLAG -1696 2176 0
FLAG 192 1984 0
FLAG -1600 1920 Vdd
FLAG -1552 2128 0
FLAG -1328 1968 0
FLAG -1056 1280 0
FLAG -816 1216 vsin
FLAG -1808 1968 0
FLAG -1040 2080 0
FLAG -896 2032 0
FLAG 624 1840 0
FLAG 624 1728 Vdd
FLAG 288 1744 0
FLAG 320 2528 0
FLAG 576 2528 0
FLAG 2304 2000 0
FLAG 2624 2000 0
FLAG 2768 1936 c_reset
FLAG 2336 1856 cap_p
FLAG 1680 1744 Vdd
FLAG 736 1776 comp_out
FLAG 1584 1520 Vdd
FLAG 1824 1088 0
FLAG 1488 1568 Vdd
FLAG 1744 2384 0
FLAG 1872 2336 0
FLAG 1792 2064 Vdd
FLAG 1728 1792 0
FLAG 3584 2656 0
FLAG 3584 2368 Vdd
FLAG 3680 2400 Vdd
FLAG 3728 2144 Vdd
FLAG 1056 1776 Vdd
FLAG 1392 1776 cur_ctl
FLAG 2880 2496 0
FLAG 4112 2336 Vdd
FLAG 4032 2288 0
FLAG 4064 2320 0
FLAG 4464 2432 0
FLAG 4448 2176 adc_in
FLAG 2992 2320 switch_ctl
FLAG 4704 2256 Vdd
FLAG 4672 2080 Vdd
FLAG 4848 2368 0
FLAG 4816 2176 outer_noise
FLAG 1872 1280 old_bias
FLAG 2112 1584 Vdd
FLAG 2032 1728 0
FLAG 208 1808 pre_amp_signal
FLAG -1248 336 0
FLAG -1248 176 raw_signal
FLAG -448 1760 signal_lifted
DATAFLAG 3760 2304 ""
SYMBOL nmos4 144 112 R0
SYMATTR InstName M1
SYMATTR Value2 l=100n w=1u
SYMBOL voltage -800 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0.4
SYMBOL voltage -576 192 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL file=Z:\home\miksolo\git\Neuralink_Compression_Challenge\sim\inputs\sols_no_borderline\spike_output.pwl.txt
SYMBOL pmos4 192 -64 R0
SYMATTR InstName M2
SYMATTR Value2 l=200n w=W_load
SYMBOL nmos4 1120 144 R0
SYMATTR InstName M3
SYMATTR Value2 l=100n w=1u
SYMBOL res 1200 -16 R0
SYMATTR InstName R1
SYMATTR Value 50k
SYMBOL voltage -960 -400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {vdd}
SYMBOL res 384 48 R0
SYMATTR InstName R2
SYMATTR Value 500k
SYMBOL nmos4 368 944 R0
SYMATTR InstName M4
SYMATTR Value2 l=100n w=1u
SYMBOL pmos4 416 768 R0
SYMATTR InstName M5
SYMATTR Value2 l=200n w=W_load
SYMBOL nmos4 1104 560 R90
SYMATTR InstName M6
SYMATTR Value2 l=100n w=W_N_util
SYMBOL pmos4 1168 816 R270
SYMATTR InstName M7
SYMATTR Value2 l=200n w=W_N_util
SYMBOL pmos4 1024 960 R0
SYMATTR InstName M8
SYMATTR Value2 l=200n w=W_N_util
SYMBOL nmos4 1024 1104 R0
SYMATTR InstName M9
SYMATTR Value2 l=100n w=W_N_util
SYMBOL pmos4 1744 592 R0
SYMATTR InstName M10
SYMATTR Value2 l=300n w=400n
SYMBOL nmos4 1744 800 R0
SYMATTR InstName M11
SYMATTR Value2 l=300n w=4u
SYMBOL voltage 1632 896 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0.4
SYMBOL OpAmps\\LT1369 2112 704 R0
SYMATTR InstName U1
SYMBOL cap 2320 832 R0
SYMATTR InstName C1
SYMATTR Value 1p
SYMBOL nmos4 2592 912 R180
SYMATTR InstName M12
SYMATTR Value2 l=300n w=4u
SYMBOL voltage 2688 832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL file=Z:\home\miksolo\git\Neuralink_Compression_Challenge\sim\inputs\sols_no_borderline\discharge_pulses.pwl.txt
SYMBOL res 2480 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1000k
SYMBOL voltage 2528 624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 10m
SYMBOL diode 2224 784 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL Comparators\\LT1018 3168 800 R0
SYMATTR InstName U2
SYMBOL voltage 3040 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 400m
SYMBOL nmos4 3296 720 R0
SYMATTR InstName M13
SYMATTR Value2 l=2u w=600n
SYMBOL pmos4 3728 512 R0
SYMATTR InstName M14
SYMATTR Value2 l=400n w=1.5u
SYMBOL pmos4 3392 512 M0
SYMATTR InstName M15
SYMATTR Value2 l=4u w=200n
SYMBOL nmos4 3728 720 R0
SYMATTR InstName M16
SYMATTR Value2 l=300n w=500n
SYMBOL cap 3328 848 R0
SYMATTR InstName C2
SYMATTR Value 50p
SYMBOL nmos4 3440 960 R0
SYMATTR InstName M17
SYMATTR Value2 l=300n w=4u
SYMBOL res -288 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -256 1744 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL voltage 528 1328 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 1.2 0 1u 1u 100u 200u)
SYMBOL pmos4 0 1680 R0
SYMATTR InstName M18
SYMATTR Value2 l=150n w=700n
SYMBOL nmos4 0 1904 R0
SYMATTR InstName M19
SYMATTR Value2 l=300n w=3u
SYMBOL nmos4 -1744 2048 R0
SYMATTR InstName M20
SYMATTR Value2 l=300n w=1u
SYMBOL pmos4 -1744 1872 R0
SYMATTR InstName M21
SYMATTR Value2 l=200n w=500n
SYMBOL voltage -1328 1824 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {vbiasc}
SYMBOL voltage -880 1232 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value SINE(400m 400m 1k)
SYMBOL res -1056 1792 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL nmos4 -1088 1952 R0
SYMATTR InstName M22
SYMATTR Value2 l=300n w=2u
SYMBOL Comparators\\LT1018 624 1776 R0
SYMATTR InstName U3
SYMBOL voltage 448 1712 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V11
SYMATTR Value 0.5
SYMBOL voltage 320 2400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value 0.7
SYMBOL diode 592 2496 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value DCMOS22NM
SYMBOL res 912 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 0.01
SYMBOL cap 2288 1904 R0
SYMATTR InstName C5
SYMATTR Value 20p
SYMBOL nmos4 2672 1856 M0
SYMATTR InstName M25
SYMATTR Value2 l=10u w=200n
SYMBOL pmos4 1536 1696 R0
SYMATTR InstName M29
SYMATTR Value2 l=3u w=3u
SYMBOL res 1952 1936 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1
SYMBOL pmos4 1632 1520 M0
SYMATTR InstName M27
SYMATTR Value2 l=4u w=200n
SYMBOL voltage 1872 1216 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V14
SYMATTR Value 0.40
SYMBOL nmos4 1888 1696 M0
SYMATTR InstName M23
SYMATTR Value2 l=4u w=2u
SYMBOL nmos4 1696 2272 R0
SYMATTR InstName M24
SYMATTR Value2 l=200n w=1u
SYMBOL pmos4 1744 2096 R0
SYMATTR InstName M26
SYMATTR Value2 l=200n w=2u
SYMBOL pmos4 3680 2256 R270
SYMATTR InstName M30
SYMATTR Value2 l=1u w={Wsw*2}
SYMBOL pmos4 3536 2400 R0
SYMATTR InstName M31
SYMATTR Value2 l=150n w={Wsw*2}
SYMBOL nmos4 3536 2544 R0
SYMATTR InstName M32
SYMATTR Value2 l=100n w=Wsw
SYMBOL const_charger 1200 1792 R0
SYMATTR InstName X2
SYMBOL voltage 2880 2384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V13
SYMATTR Value PWL file=Z:\home\miksolo\git\Neuralink_Compression_Challenge\sim\inputs\sols_no_borderline\control_pulses.pwl.txt
SYMBOL switch 4208 2304 R0
SYMATTR InstName X4
SYMBOL cap 4448 2336 R0
SYMATTR InstName C3
SYMATTR Value 1f
SYMBOL pmos4 4624 2224 R270
SYMATTR InstName M33
SYMATTR Value2 l=1.5u w={Wsw*3}
SYMBOL voltage 4848 2224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V15
SYMATTR Value SINE(0.5 0.4 1k 1m)
SYMBOL bias_inverter 2208 1600 R0
SYMATTR InstName X1
SYMBOL voltage 2032 1632 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V16
SYMATTR Value 1
SYMBOL res 2112 1728 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage -1248 208 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V17
SYMATTR Value PWL file=spike_output.pwl.txt
TEXT -768 -320 Left 2 !.include 65nm_bulk.txt
TEXT -768 -352 Left 2 ;;.dc V1 0 1.2 0.1
TEXT -768 -272 Left 2 !.tran 0 670ms 0
TEXT -800 -464 Left 2 !.param Vdd=1.2 W_load=200n rload=10k W_N_util=300n Wsw=1u vbiasc=0.674
TEXT -664 -408 Left 2 ;.step param W_load 100n 1000n 100n
TEXT -192 1448 Left 2 ;Readings once a 5-7ms
TEXT -784 -176 Left 2 ;;.step param vbiasc 0.6 0.85 0.025
TEXT -1576 2472 Left 2 !.model DCMOS22NM D (IS=1e-14 N=1.05 RS=0.01 BV=7 IBV=1e-12 CJO=1e-12 M=0.5 TT=1e-12)
